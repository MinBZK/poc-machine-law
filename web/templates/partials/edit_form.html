<div class="fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full"
     id="edit-modal"
     x-data='{ value: {{ value|tojson }} }'>
    <div class="relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white">
        <div class="mt-3">
            <h3 class="text-lg leading-6 font-medium text-gray-900">
                Waarde wijzigen
            </h3>

            <form class="mt-4"
                  hx-post="/edit/update-value"
                  hx-target="#edit-form-container"
                  enctype="multipart/form-data">
                <input type="hidden" name="case_id" value="{{ case_id }}">
                <input type="hidden" name="service" value="{{ service }}">
                <input type="hidden" name="key" value="{{ key }}">
                <input type="hidden" name="law" value="{{ law }}">
                <input type="hidden" name="bsn" value="{{ bsn }}">
             <div class="mb-4">
                    <label class="block text-sm font-medium text-gray-700">Huidige waarde</label>
                    <template x-if="typeof value === 'boolean'">
                        <div class="mt-1">
                            <div class="text-gray-700 bg-gray-50 px-3 py-2 rounded-md">
                                <span x-text="value ? 'Ja' : 'Nee'"></span>
                            </div>
                        </div>
                    </template>
                    <template x-if="typeof value === 'string' && !isNaN(Date.parse(value))">
                        <div class="mt-1">
                            <div class="text-gray-700 bg-gray-50 px-3 py-2 rounded-md">
                                <span x-text="new Date(value).toLocaleDateString('nl-NL')"></span>
                            </div>
                        </div>
                    </template>
                    <template x-if="typeof value === 'string' && isNaN(Date.parse(value)) || typeof value === 'number'">
                        <div class="mt-1">
                            <div class="text-gray-700 bg-gray-50 px-3 py-2 rounded-md">
                                <span x-text="value"></span>
                            </div>
                        </div>
                    </template>
                </div>

                <div class="mb-4">
                    <label for="new-value" class="block text-sm font-medium text-gray-700">Nieuwe waarde</label>
                    <template x-if="typeof value === 'boolean'">
                        <select id="new-value" name="new_value"
                                class="mt-1 block w-full border-gray-300 rounded-md shadow-sm"
                                x-bind:value="value.toString()">
                            <option value="true">Ja</option>
                            <option value="false">Nee</option>
                        </select>
                    </template>
                    <template x-if="typeof value === 'string' && !isNaN(Date.parse(value))">
                        <input type="date" id="new-value" name="new_value"
                               class="mt-1 block w-full border-gray-300 rounded-md shadow-sm"
                               x-bind:value="new Date(value).toISOString().split('T')[0]"
                               required>
                    </template>
                    <template x-if="typeof value === 'number'">
                        <input type="number" id="new-value" name="new_value"
                               x-bind:value="value"
                               class="mt-1 block w-full border-gray-300 rounded-md shadow-sm"
                               required>
                    </template>
                    <template x-if="typeof value === 'string' && isNaN(Date.parse(value))">
                        <input type="text" id="new-value" name="new_value"
                               x-bind:value="value"
                               class="mt-1 block w-full border-gray-300 rounded-md shadow-sm"
                               required>
                    </template>
                </div>

                <div class="mb-4">
                    <label for="hardheidsclausule" class="block text-sm font-medium text-gray-700">Hardheidsclausule</label>
                    <select id="hardheidsclausule" name="hardheidsclausule"
                            class="mt-1 block w-full border-gray-300 rounded-md shadow-sm">
                        <option value="">Selecteer een hardheidsclausule</option>
                        <option value="Awb Art. 4:84">Awb Art. 4:84 - Inherente afwijkingsbevoegdheid bestuursorgaan</option>
                        <option value="Participatiewet Art. 18">Participatiewet Art. 18 - Bijzondere bijstand</option>
                        <option value="Wmo 2015 Art. 2.3.5">Wmo 2015 Art. 2.3.5 - Maatwerkvoorziening</option>
                        <option value="Belastingwet Art. 63">Belastingwet Art. 63 - Hardheidsclausule Belastingen</option>
                        <option value="Jeugdwet Art. 2.3">Jeugdwet Art. 2.3 - Maatwerkvoorziening jeugdhulp</option>
                        <option value="Anders">Anders - Andere specifieke hardheidsclausule</option>
                    </select>
                </div>

                <div class="mb-4">
                    <label for="reason" class="block text-sm font-medium text-gray-700">Motivatie voor wijziging</label>
                    <textarea id="reason" name="reason" rows="3"
                              class="mt-1 block w-full border-gray-300 rounded-md shadow-sm"
                              required></textarea>
                </div>

                <div class="mb-4">
                    <label for="evidence" class="block text-sm font-medium text-gray-700">Bewijs</label>
                    <input type="file" id="evidence" name="evidence" class="mt-1 block w-full">
                    <p class="mt-1 text-sm text-gray-500">Upload hier eventueel bewijsmateriaal voor de wijziging</p>
                </div>

                <div class="flex justify-end space-x-3">
                    <button type="button"
                            class="bg-gray-200 px-4 py-2 rounded-md text-gray-700 hover:bg-gray-300"
                            @click="document.getElementById('edit-modal').remove()">
                        Annuleren
                    </button>
                    <button type="submit"
                            class="bg-blue-600 px-4 py-2 rounded-md text-white hover:bg-blue-700">
                        Opslaan
                    </button>
                </div>
            </form>
        </div>
    </div>
</div>
